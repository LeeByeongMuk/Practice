<html>
<head>
    <meta charset="UTF-8">
    <title>출력결과</title>
</head>
<body>
<script>
    function solution(s) {
        let answer = 0;
        let stack = [];

        for (let i = 0; i < s.length; i++) {
            if (s[i] === '(') {
                stack.push(s[i]);
            } else {
                stack.pop();
                if (s[i - 1] === '(') {
                    answer += stack.length;
                } else {
                    answer += 1;
                }
            }
        }

        return answer;
    }

    function solution2(s) {
        let answer = 0;
        let stack = [];

        for (let i = 0; i < s.length; i++) {
            if (s[i] === ')') {
                if (isNaN(stack[stack.length - 1])) {
                    stack.pop();
                    stack.push(1);
                } else {
                    let lt = stack.length - 2;

                    while (!isNaN(stack[lt])) {
                        lt--;
                    }

                    stack.splice(lt, 1);
                    answer += stack.length - lt + 1;
                }
            } else {
                stack.push(s[i]);
            }
        }

        return answer;
    }

    let a = "()(((()())(())()))(())";
    console.log(solution(a));
    console.log(solution('(((()(()()))(())()))(()())'));
</script>
</body>
</html>